<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì—ì„ ê²Œì„</title>
  <style>
    /* ì „ì²´ í˜ì´ì§€ ìŠ¤íƒ€ì¼ ì„¤ì • */
    body {
      font-family: 'Arial', sans-serif; /* ê¸€ê¼´ ì§€ì • */
      text-align: center; /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬ */
      background-color: #1e1e2f; /* ì–´ë‘ìš´ ë°°ê²½ìƒ‰ */
      color: white; /* ê¸€ì ìƒ‰ìƒì„ í°ìƒ‰ìœ¼ë¡œ ì„¤ì • */
      margin: 0; /* ê¸°ë³¸ ì—¬ë°± ì œê±° */
      padding: 0; /* ê¸°ë³¸ íŒ¨ë”© ì œê±° */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    h1 {
        margin-bottom: 20px;
    }

    /* ê²Œì„ ì˜ì—­ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
    #game-container {
      position: relative; /* ìì‹ ìš”ì†Œì˜ ì ˆëŒ€ ìœ„ì¹˜ ê¸°ì¤€ ì„¤ì • */
      width: 90vw; /* ë·°í¬íŠ¸ ë„ˆë¹„ì˜ 90% */
      max-width: 800px; /* ìµœëŒ€ ë„ˆë¹„ 800px */
      height: 60vh; /* ë·°í¬íŠ¸ ë†’ì´ì˜ 60% */
      max-height: 600px; /* ìµœëŒ€ ë†’ì´ 600px */
      margin: 20px auto; /* ìˆ˜ì§ ì—¬ë°±ê³¼ ìˆ˜í‰ ì¤‘ì•™ ì •ë ¬ */
      background-color: #2e2e40; /* ì»¨í…Œì´ë„ˆ ë°°ê²½ìƒ‰ */
      border: 2px solid #fff; /* í°ìƒ‰ í…Œë‘ë¦¬ */
      border-radius: 15px; /* ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ */
      overflow: hidden; /* ë‚´ë¶€ ìš”ì†Œê°€ ì˜ì—­ì„ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì„¤ì • */
      transition: background-color 0.1s ease; /* ë¶€ë“œëŸ¬ìš´ ë°°ê²½ìƒ‰ ì „í™˜ íš¨ê³¼ */
    }

    /* íƒ€ê²Ÿ(í´ë¦­ ëŒ€ìƒ) ìš”ì†Œ ìŠ¤íƒ€ì¼ */
    #target {
      position: absolute; /* ìœ„ì¹˜ë¥¼ ììœ ë¡­ê²Œ ì¡°ì • ê°€ëŠ¥ */
      width: 80px; /* ë„ˆë¹„ ì„¤ì • */
      height: 80px; /* ë†’ì´ ì„¤ì • */
      background-color: #ffc107; /* ë°°ê²½ìƒ‰ì€ ë…¸ë€ìƒ‰ ê³„ì—´ */
      border-radius: 50%; /* ì™„ì „í•œ ì›í˜•ìœ¼ë¡œ ë³€ê²½ */
      cursor: pointer; /* ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ì†ê°€ë½ ëª¨ì–‘ìœ¼ë¡œ ë³€ê²½ */
      display: none; /* ì²˜ìŒì—ëŠ” ë³´ì´ì§€ ì•Šë„ë¡ ì„¤ì • */
      transition: all 0.1s ease; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
    }

    /* ê²Œì„ ì •ë³´ í‘œì‹œ ì˜ì—­ (ì˜ˆ: ì ìˆ˜, íƒ€ì´ë¨¸ ë“±) */
    #info {
      margin-top: 10px; /* ìœ„ìª½ ì—¬ë°± */
      display: flex;
      gap: 20px; /* í•­ëª© ì‚¬ì´ ê°„ê²© */
      font-size: 18px;
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì„¤ì • */
    #start-btn {
      padding: 12px 25px; /* ë‚´ë¶€ ì—¬ë°± ì„¤ì • */
      font-size: 18px; /* ê¸€ì í¬ê¸° ì„¤ì • */
      cursor: pointer; /* ì»¤ì„œë¥¼ ì†ê°€ë½ ëª¨ì–‘ìœ¼ë¡œ ë³€ê²½ */
      border: none;
      border-radius: 8px;
      background-color: #4CAF50; /* ì´ˆë¡ìƒ‰ ë°°ê²½ */
      color: white;
      transition: background-color 0.3s;
      margin-top: 15px;
    }

    #start-btn:disabled {
        background-color: #555; /* ë¹„í™œì„±í™” ì‹œ ìƒ‰ìƒ */
        cursor: not-allowed;
    }

    #start-btn:hover:not(:disabled) {
        background-color: #45a049; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
    }

    /* ê²Œì„ ì¢…ë£Œ íŒì—… ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        align-items: center;
        justify-content: center;
        z-index: 1000;
    }

    .modal-content {
        background-color: #3e3e52;
        padding: 40px;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .modal-content h2 {
        margin-top: 0;
        color: #fff;
    }

    .modal-content p {
        font-size: 24px;
        color: #ffc107;
        margin: 20px 0;
    }

    .modal-content button {
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #4CAF50;
        color: white;
    }

  </style>
</head>
<body>
  <h1>ğŸ¯ ì—ì„ ê²Œì„</h1>

  <div id="game-container">
    <div id="target"></div>
  </div>

  <div id="info">
    <p>ì ìˆ˜: <span id="score">0</span></p>
    <p>ë‚¨ì€ ì‹œê°„: <span id="time">30</span>ì´ˆ</p>
  </div>

  <button id="start-btn">ê²Œì„ ì‹œì‘</button>

  <!-- ê²Œì„ ì¢…ë£Œ ì‹œ ë‚˜íƒ€ë‚  ëª¨ë‹¬ -->
  <div id="end-game-modal" class="modal-overlay">
      <div class="modal-content">
          <h2>ê²Œì„ ì¢…ë£Œ!</h2>
          <p>ìµœì¢… ì ìˆ˜: <span id="final-score">0</span></p>
          <button id="restart-btn">ë‹¤ì‹œ ì‹œì‘</button>
      </div>
  </div>


  <script>
    // HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const target = document.getElementById("target");
    const scoreDisplay = document.getElementById("score");
    const timeDisplay = document.getElementById("time");
    const startBtn = document.getElementById("start-btn");
    const gameContainer = document.getElementById("game-container");
    const endGameModal = document.getElementById("end-game-modal");
    const finalScoreDisplay = document.getElementById("final-score");
    const restartBtn = document.getElementById("restart-btn");

    // ê²Œì„ ìƒíƒœ ë³€ìˆ˜
    let score = 0;
    let timeLeft = 30;
    let countdownInterval;
    let disappearTimer; // íƒ€ê²Ÿì´ ì‚¬ë¼ì§€ëŠ” ê²ƒì„ ì œì–´í•˜ëŠ” íƒ€ì´ë¨¸
    let isGameRunning = false;

    // íƒ€ê²Ÿì´ ëœë¤ ìœ„ì¹˜ì— ë‚˜íƒ€ë‚˜ë„ë¡ ì»¨í…Œì´ë„ˆì˜ í¬ê¸°ë¥¼ ê°€ì ¸ì™€ ì¢Œí‘œ ê³„ì‚°
    function getRandomPosition() {
      const containerWidth = gameContainer.clientWidth;
      const containerHeight = gameContainer.clientHeight;
      const targetSize = target.offsetWidth;

      const x = Math.random() * (containerWidth - targetSize);
      const y = Math.random() * (containerHeight - targetSize);

      return { x, y };
    }

    // íƒ€ê²Ÿì„ ìƒì„±í•˜ê³  ë‚˜íƒ€ë‚˜ê²Œ í•˜ëŠ” í•¨ìˆ˜
    function spawnTarget() {
        if (!isGameRunning) return; // ê²Œì„ì´ ì¢…ë£Œë˜ë©´ í•¨ìˆ˜ ì¤‘ë‹¨

        const pos = getRandomPosition();
        target.style.left = `${pos.x}px`;
        target.style.top = `${pos.y}px`;
        target.style.display = "block";

        // ì¼ì • ì‹œê°„ í›„ íƒ€ê²Ÿì´ ì €ì ˆë¡œ ì‚¬ë¼ì§€ê²Œ í•˜ëŠ” íƒ€ì´ë¨¸ ì„¤ì •
        disappearTimer = setTimeout(() => {
            target.style.display = 'none';
            if (isGameRunning) {
                spawnTarget(); // ë‹¤ìŒ íƒ€ê²Ÿ ìƒì„±
            }
        }, 1200); // 1.2ì´ˆ í›„ì— ì‚¬ë¼ì§
    }

    // ê²Œì„ ì‹œì‘ í•¨ìˆ˜
    function startGame() {
      isGameRunning = true;
      startBtn.disabled = true;
      endGameModal.style.display = "none";
      score = 0;
      timeLeft = 30;
      scoreDisplay.textContent = score;
      timeDisplay.textContent = timeLeft;

      spawnTarget(); // ì²« íƒ€ê²Ÿ ìƒì„±

      countdownInterval = setInterval(() => {
        timeLeft--;
        timeDisplay.textContent = timeLeft;

        if (timeLeft <= 0) {
          endGame();
        }
      }, 1000);
    }

    // ê²Œì„ ì¢…ë£Œ í•¨ìˆ˜
    function endGame() {
      isGameRunning = false;
      clearTimeout(disappearTimer); // ì§„í–‰ ì¤‘ì¸ íƒ€ê²Ÿ ìƒì„± íƒ€ì´ë¨¸ ì¤‘ì§€
      clearInterval(countdownInterval);
      target.style.display = "none";
      
      finalScoreDisplay.textContent = score;
      endGameModal.style.display = "flex";
      startBtn.disabled = false;
    }

    // íƒ€ê²Ÿ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
    target.addEventListener("click", (event) => {
        if(!isGameRunning) return;
        event.stopPropagation();
      
        score++;
        scoreDisplay.textContent = score;

        // ê¸°ì¡´ì˜ ì‚¬ë¼ì§€ëŠ” íƒ€ì´ë¨¸ë¥¼ ì·¨ì†Œí•˜ê³  íƒ€ê²Ÿì„ ì¦‰ì‹œ ìˆ¨ê¹€
        clearTimeout(disappearTimer);
        target.style.display = 'none';

        // ì ì‹œ í›„ ë‹¤ìŒ íƒ€ê²Ÿì„ ìƒì„±í•˜ì—¬ ê²Œì„ì˜ íë¦„ì„ ë§Œë“¦
        setTimeout(spawnTarget, 150);
    });
    
    // ê²Œì„ ì˜ì—­ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (ê°ì  ë¡œì§)
    gameContainer.addEventListener("click", () => {
        if (isGameRunning) {
            score--;
            scoreDisplay.textContent = score;

            gameContainer.style.backgroundColor = '#d32f2f';
            setTimeout(() => {
                gameContainer.style.backgroundColor = '#2e2e40';
            }, 100);
        }
    });

    // ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ ê²Œì„ ì‹œì‘
    startBtn.addEventListener("click", startGame);

    // ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ ê²Œì„ ì¬ì‹œì‘
    restartBtn.addEventListener("click", () => {
        endGameModal.style.display = "none";
        startGame();
    });
  </script>
</body>
</html>
